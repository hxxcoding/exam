(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9ad67b2"],{"30e7":function(t,e,a){},3200:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"f",(function(){return i})),a.d(e,"b",(function(){return s})),a.d(e,"h",(function(){return o})),a.d(e,"c",(function(){return p})),a.d(e,"d",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"g",(function(){return d}));var n=a("b775");function r(t){return Object(n["b"])("/exam/api/paper/paper/create-paper",t)}function i(t){return Object(n["b"])("/exam/api/paper/paper/paper-detail",t)}function s(t,e){return Object(n["b"])("/exam/api/paper/paper/paper-result/office/points",{paperId:t,quId:e})}function o(t){return Object(n["b"])("/exam/api/paper/paper/qu-detail",t)}function p(t){return Object(n["b"])("/exam/api/paper/paper/fill-answer",t)}function c(t){return Object(n["b"])("/exam/api/paper/paper/fill-answer-by-async",t)}function l(t){return Object(n["b"])("/exam/api/paper/paper/hand-exam",t)}function d(t){return Object(n["b"])("/exam/api/paper/paper/paper-result",t)}},"6e21":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:24}},[1===t.detailData.examType?a("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{title:"点击`开始考试`后将自动进入考试，请诚信考试！考试途中请勿关闭或退出考试页面！如若关闭请及时联系监考老师！",type:"error"}}):t._e(),a("el-card",{staticClass:"pre-exam"},[a("div",[a("strong",[t._v("考试名称：")]),t._v(t._s(t.detailData.title))]),a("div",[a("strong",[t._v("考试时长：")]),t._v(t._s(t.detailData.totalTime)+"分钟")]),a("div",[a("strong",[t._v("考试时段：")]),t.detailData.timeLimit?a("span",[t._v(t._s(t.detailData.startTime)+" ~ "+t._s(t.detailData.endTime))]):a("span",[t._v("不限时")])]),a("div",[a("strong",[t._v("次数限制：")]),t.detailData.tryLimit?a("span",[t._v(t._s(t.detailData.limitTimes)+"次")]):a("span",[t._v("不限次")])]),a("div",[a("strong",[t._v("试卷总分：")]),t._v(t._s(t.detailData.totalScore)+"分")]),a("div",[a("strong",[t._v("及格分数：")]),t._v(t._s(t.detailData.qualifyScore)+"分")]),a("div",[a("strong",[t._v("考试描述：")]),t._v(t._s(t.detailData.content))]),a("div",[a("strong",[t._v("考试类型：")]),t._v(" "+t._s(t._f("examType")(t.detailData.examType)))]),a("div",[a("strong",[t._v("开放类型：")]),t._v(" "+t._s(t._f("examOpenType")(t.detailData.openType)))]),a("div",[a("strong",[t._v("考场座位：")]),a("el-input",{staticStyle:{width:"250px","vertical-align":"bottom"},attrs:{placeholder:"请输入考场座位号(例:3-021)",clearable:""},on:{blur:t.handleSeatInputChange},model:{value:t.postForm.seat,callback:function(e){t.$set(t.postForm,"seat",e)},expression:"postForm.seat"}})],1),t.detailData.isStart&&1===t.detailData.examType?a("div",[a("strong",[t._v("考试密码：")]),a("el-input",{staticStyle:{width:"250px","vertical-align":"bottom"},attrs:{placeholder:"请联系监考老师输入考试密码！","show-password":"",clearable:""},model:{value:t.postForm.password,callback:function(e){t.$set(t.postForm,"password",e)},expression:"postForm.password"}})],1):t._e()])],1),a("el-col",{attrs:{span:24}},[t.detailData.isStart&&1===t.detailData.examType?a("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{title:"您有未完成的的考试, `继续考试`请联系监考老师输入考试密码！",type:"warning"}}):t._e()],1),a("el-col",{attrs:{span:24}},[t.detailData.isStart?t._e():a("el-button",{attrs:{type:"primary",icon:"el-icon-caret-right",disabled:""===t.postForm.seat},on:{click:t.handleCreate}},[t._v(" 开始考试 ")]),t.detailData.isStart?a("el-button",{attrs:{type:"warning",icon:"el-icon-video-pause",disabled:1===t.detailData.examType&&(null===t.postForm.password||""===t.postForm.password||""===t.postForm.seat)||0===t.detailData.examType&&""===t.postForm.seat},on:{click:t.handleCreate}},[t._v(" 继续考试 ")]):t._e(),a("el-button",{on:{click:t.handleBack}},[t._v(" 返回 ")])],1)],1)],1)},r=[],i=a("5c96"),s=a("955d"),o=a("3200"),p={name:"ExamPrepare",data:function(){return{detailData:{},postForm:{examId:"",password:"",seat:""}}},created:function(){this.postForm.examId=this.$route.query.examId,this.fetchData()},methods:{fetchData:function(){var t=this;Object(s["c"])(this.postForm.examId).then((function(e){t.detailData=e.data,t.detailData.isStart&&(t.postForm.seat=t.detailData.seat)}))},handleCreate:function(){var t=this,e=this;if(this.handleSeatInputChange())if(1!==this.detailData.examType||!this.detailData.isStart||null!==this.postForm.password&&""!==this.postForm.password){var a=i["Loading"].service({text:"正在进入考试...",background:"rgba(0, 0, 0, 0.7)"});Object(o["a"])(this.postForm).then((function(n){0===n.code&&(t.$message({message:"试卷读取成功，即将进入考试！",type:"success"}),setTimeout((function(){a.close(),e.dialogVisible=!1,e.$router.push({name:"StartExam",params:{id:n.data.id}})}),1e3))})).catch((function(){a.close()}))}else this.$message({message:"请输入考试密码!",type:"warning"})},handleBack:function(){this.$router.push({name:"ExamOnline"})},handleSeatInputChange:function(){var t=/^[0-9]-[0-9]{3}$/g;return null!==t.exec(this.postForm.seat)||(this.postForm.seat="",this.$message({message:"座位号输入格式有误, 请重新输入!",type:"warning"}),!1)}}},c=p,l=(a("d311"),a("2877")),d=Object(l["a"])(c,n,r,!1,null,"7e529956",null);e["default"]=d.exports},"955d":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return s})),a.d(e,"b",(function(){return o}));var n=a("b775");function r(t){return Object(n["b"])("/exam/api/exam/exam/detail",{id:t})}function i(t){return Object(n["b"])("/exam/api/exam/exam/online-preview",{id:t})}function s(t){return Object(n["b"])("/exam/api/exam/exam/save",t)}function o(){return Object(n["b"])("/exam/api/exam/exam/paging",{current:1,size:100})}},d311:function(t,e,a){"use strict";a("30e7")}}]);