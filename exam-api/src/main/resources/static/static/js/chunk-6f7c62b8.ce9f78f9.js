(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f7c62b8"],{"14a5":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return n}));var r=function(e,t){var a="1.23452384164.123412415";null!==document.getElementById(a)&&document.body.removeChild(document.getElementById(a));var r=document.createElement("canvas");r.width=200,r.height=120;var i=r.getContext("2d");i.rotate(-20*Math.PI/180),i.font="16px Vedana",i.fillStyle="#666666",i.textAlign="center",i.textBaseline="Middle",i.fillText(e,r.width/2,r.height),i.fillText(t,r.width/2,r.height+22);var n=document.createElement("div");return n.id=a,n.style.pointerEvents="none",n.style.top="0px",n.style.left="0px",n.style.opacity="0.15",n.style.position="fixed",n.style.zIndex="100000",n.style.width=document.documentElement.clientWidth+"px",n.style.height=document.documentElement.clientHeight+"px",n.style.background="url("+r.toDataURL("image/png")+") left top repeat",document.body.appendChild(n),a},i=function(e,t){var a=r(e,t);null===document.getElementById(a)&&(a=r(e,t))},n=function(){var e="1.23452384164.123412415";null!==document.getElementById(e)&&document.body.removeChild(document.getElementById(e))}},"266f":function(e,t,a){},3200:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"h",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"g",(function(){return p}));var r=a("b775");function i(e){return Object(r["b"])("/exam/api/paper/paper/create-paper",e)}function n(e){return Object(r["b"])("/exam/api/paper/paper/paper-detail",e)}function s(e,t){return Object(r["b"])("/exam/api/paper/paper/paper-result/office/points",{paperId:e,quId:t})}function l(e){return Object(r["b"])("/exam/api/paper/paper/qu-detail",e)}function o(e){return Object(r["b"])("/exam/api/paper/paper/fill-answer",e)}function c(e){return Object(r["b"])("/exam/api/paper/paper/fill-answer-by-async",e)}function u(e){return Object(r["b"])("/exam/api/paper/paper/hand-exam",e)}function p(e){return Object(r["b"])("/exam/api/paper/paper/paper-result",e)}},"832f":function(e,t,a){"use strict";a("266f")},b3de:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"pdfDom"}},[a("el-button",{directives:[{name:"role",rawName:"v-role",value:["sa","teacher"],expression:"['sa', 'teacher']"}],on:{click:e.saveToPdf}},[e._v("保存为PDF")]),a("h2",{staticClass:"text-center"},[e._v(e._s(e.paperData.title))]),a("el-descriptions",{attrs:{column:"4","content-style":{"text-align":"center"},"label-style":{"text-align":"center"},border:""}},[a("el-descriptions-item",{attrs:{label:"考生姓名"}},[e._v(e._s(e.paperData.userId_real_name))]),a("el-descriptions-item",{attrs:{label:"考生学号"}},[e._v(e._s(e.paperData.userId_user_name))]),a("el-descriptions-item",{attrs:{label:"考生班级"}},[e._v(e._s(e.paperData.departId_dept_name))]),a("el-descriptions-item",{attrs:{label:"考场座位号"}},[e._v(e._s(e.paperData.seat))]),a("el-descriptions-item",{attrs:{span:"2",label:"考试时间"}},[e._v(e._s(e.paperData.createTime)+" ~ "+e._s(e.paperData.updateTime))]),a("el-descriptions-item",{attrs:{span:"2",label:"考试用时"}},[e._v(e._s(e.paperData.userTime)+"分钟")]),a("el-descriptions-item",{attrs:{label:"单选题得分"}},[e._v(e._s(e.paperData.userRadioScore)+"分")]),a("el-descriptions-item",{attrs:{label:"多选题得分"}},[e._v(e._s(e.paperData.userMultiScore)+"分")]),a("el-descriptions-item",{attrs:{label:"判断题得分"}},[e._v(e._s(e.paperData.userJudgeScore)+"分")]),a("el-descriptions-item",{attrs:{label:"填空题得分"}},[e._v(e._s(e.paperData.userBlankScore)+"分")]),a("el-descriptions-item",{attrs:{label:"操作题得分"}},[e._v(e._s(e.paperData.userOfficeScore)+"分")]),a("el-descriptions-item",{attrs:{span:"3",label:"总得分"}},[a("div",{staticStyle:{color:"#ff0000"}},[a("strong",[e._v(e._s(e.paperData.userScore)+"分")])])])],1),a("el-card",{staticStyle:{"margin-top":"20px"}},e._l(e.paperData.quList,(function(t){return a("div",{key:t.id,staticClass:"qu-content"},[a("p",[e._v(e._s(t.sort+1)+"."),a("span",{domProps:{innerHTML:e._s(t.content)}}),e._v("（分值："+e._s(t.score)+"）")]),null!=t.image&&""!==t.image?a("div",[a("el-link",{attrs:{href:t.image,type:"primary",target:"_blank",icon:"el-icon-files",underline:!0}},[e._v(" 下载附件 ")])],1):e._e(),1===t.quType||3===t.quType?a("div",[a("el-radio-group",{model:{value:e.radioValues[t.id],callback:function(a){e.$set(e.radioValues,t.id,a)},expression:"radioValues[item.id]"}},e._l(t.answerList,(function(t){return a("el-radio",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.abc)+"."+e._s(t.content)+" "),null!=t.image&&""!==t.image?a("div",{staticStyle:{clear:"both"}},[a("el-link",{attrs:{href:t.image,type:"primary",target:"_blank",icon:"el-icon-files",underline:!0}},[e._v(" 下载附件 ")])],1):e._e()])})),1),a("el-row",{attrs:{gutter:24}},[a("el-col",{staticStyle:{color:"#24da70"},attrs:{span:12}},[e._v(" 正确答案："+e._s(e.radioRights[t.id])+" ")]),t.answered?e._e():a("el-col",{staticStyle:{"text-align":"right",color:"#ff0000"},attrs:{span:12}},[e._v(" 答题结果：未答 ")]),t.answered&&!t.isRight?a("el-col",{staticStyle:{"text-align":"right",color:"#ff0000"},attrs:{span:12}},[e._v(" 答题结果："+e._s(e.myRadio[t.id])+" ")]):e._e(),t.answered&&t.isRight?a("el-col",{staticStyle:{"text-align":"right",color:"#24da70"},attrs:{span:12}},[e._v(" 答题结果："+e._s(e.myRadio[t.id])+" ")]):e._e()],1)],1):e._e(),t.quType>=10?a("div",[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[e._v(" 回答："),a("span",[e._v("(得分: "+e._s(t.actualScore)+"分)")]),null!=t.answer&&""!==t.answer?a("div",[a("el-link",{attrs:{href:t.answer,type:"primary",target:"_blank",icon:"el-icon-files",underline:!0}},[e._v(" "+e._s(t.answer)+" ")])],1):a("div",[a("span",{staticStyle:{color:"#ff0000"}},[e._v("未作答")])])]),void 0!==e.quOfficePoints[t.quId]?a("el-table",{staticStyle:{width:"80%"},attrs:{data:e.quOfficePoints[t.quId],size:"mini",border:""}},[a("el-table-column",{attrs:{align:"center",label:"方法"},scopedSlots:e._u([{key:"default",fn:function(r){return[10===t.quType?a("div",[e._v(e._s(e._f("wordMethodFilter")(r.row.point)))]):e._e(),11===t.quType?a("div",[e._v(e._s(e._f("excelMethodFilter")(r.row.point)))]):e._e(),12===t.quType?a("div",[e._v(e._s(e._f("pptMethodFilter")(r.row.point)))]):e._e()]}}],null,!0)}),a("el-table-column",{attrs:{align:"center",label:"答题结果"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.pointScore===t.row.userScore?"正确":"错误"))])]}}],null,!0)}),a("el-table-column",{attrs:{align:"center",label:"得分"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.userScore)+" / "+e._s(t.row.pointScore))])]}}],null,!0)})],1):e._e()],1)],1):e._e(),5===t.quType?a("div",[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[e._v(" 回答： "),a("el-input",{staticStyle:{width:"50%"},attrs:{size:"large",disabled:""},model:{value:t.answer,callback:function(a){e.$set(t,"answer",a)},expression:"item.answer"}})],1),t.answered?e._e():a("el-col",{staticStyle:{"text-align":"right",color:"#ff0000"},attrs:{span:12}},[e._v(" 答题结果：未答 ")]),t.answered&&!t.isRight?a("el-col",{staticStyle:{"text-align":"right",color:"#ff0000"},attrs:{span:12}},[e._v(" 答题结果：错误 ")]):e._e(),t.answered&&t.isRight?a("el-col",{staticStyle:{"text-align":"right",color:"#24da70"},attrs:{span:12}},[e._v(" 答题结果：正确 ")]):e._e()],1)],1):e._e(),2===t.quType?a("div",[a("el-checkbox-group",{model:{value:e.multiValues[t.id],callback:function(a){e.$set(e.multiValues,t.id,a)},expression:"multiValues[item.id]"}},e._l(t.answerList,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.abc)+"."+e._s(t.content)+" "),null!=t.image&&""!==t.image?a("div",{staticStyle:{clear:"both"}},[a("el-image",{staticStyle:{"max-width":"100%"},attrs:{src:t.image}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("el-link",{attrs:{href:t.image,type:"primary",target:"_blank",icon:"el-icon-files",underline:!0}},[e._v(" 下载附件 ")])],1)])],1):e._e()])})),1),a("el-row",{attrs:{gutter:24}},[a("el-col",{staticStyle:{color:"#24da70"},attrs:{span:12}},[e._v(" 正确答案："+e._s(e.multiRights[t.id].join(","))+" ")]),t.answered?e._e():a("el-col",{staticStyle:{"text-align":"right",color:"#ff0000"},attrs:{span:12}},[e._v(" 答题结果：未答 ")]),t.answered&&!t.isRight?a("el-col",{staticStyle:{"text-align":"right",color:"#ff0000"},attrs:{span:12}},[e._v(" 答题结果："+e._s(e.myMulti[t.id].join(","))+" ")]):e._e(),t.answered&&t.isRight?a("el-col",{staticStyle:{"text-align":"right",color:"#24da70"},attrs:{span:12}},[e._v(" 答题结果："+e._s(e.myMulti[t.id].join(","))+" ")]):e._e()],1)],1):e._e()])})),0)],1)},i=[],n=(a("ac6a"),a("96cf"),a("3b8d")),s=(a("7f7f"),a("db72")),l=a("3200"),o=a("14a5"),c=a("2f62"),u=a("c0e9"),p=a.n(u),d=a("8baf");function f(e,t){var a=e.offsetWidth,r=e.offsetHeight,i=e.offsetTop,n=e.offsetLeft,s=document.createElement("canvas"),l=0,o=document.documentElement.clientWidth||document.body.clientWidth,c=window.innerWidth;c>o&&(l=(c-o)/2),s.width=2*a,s.height=2*r;var u=s.getContext("2d");u.scale(2,2),u.translate(-n-l,-i),p()(e,{dpi:300,useCORS:!0}).then((function(e){var a=e.width,r=e.height,i=a/592.28*841.89,n=r,s=0,l=595.28,o=595.28/a*r,c=e.toDataURL("image/jpeg",1),u=new d["a"]("","pt","a4");if(n<i)u.addImage(c,"JPEG",0,0,l,o);else while(n>0)u.addImage(c,"JPEG",0,s,l,o),n-=i,s-=841.89,n>0&&u.addPage();u.save(t)}))}var m={downloadPDF:f},_={name:"AuctionGoodsDetail",data:function(){return{paperId:"",paperData:{quList:[]},radioValues:{},multiValues:{},radioRights:{},multiRights:{},myRadio:{},myMulti:{},quOfficePoints:{}}},computed:Object(s["a"])({},Object(c["b"])(["sidebar","avatar","device","name","realName"])),created:function(){var e=this.$route.query.id;"undefined"!==typeof e&&(this.paperId=e,this.fetchData(e))},mounted:function(){Object(o["b"])(this.realName,this.name)},destroyed:function(){Object(o["a"])()},methods:{fetchData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={id:t},e.next=3,Object(l["g"])(a).then((function(e){r.paperData=e.data,r.paperData.userRadioScore=0,r.paperData.userMultiScore=0,r.paperData.userJudgeScore=0,r.paperData.userBlankScore=0,r.paperData.userOfficeScore=0,console.log(r.paperData),r.paperData.quList.forEach((function(e){e.quType>=10&&null!==e.answer&&""!==e.answer&&r.fetchQuOfficePoints(t,e.quId),1===e.quType&&e.isRight&&(r.paperData.userRadioScore+=e.score),2===e.quType&&e.isRight&&(r.paperData.userMultiScore+=e.score),3===e.quType&&e.isRight&&(r.paperData.userJudgeScore+=e.score),5===e.quType&&e.isRight&&(r.paperData.userBlankScore+=e.score),10!==e.quType&&11!==e.quType&&12!==e.quType||!e.isRight||(r.paperData.userOfficeScore+=e.actualScore);var a="",i="",n="",s=[],l=[],o=[];e.answerList.forEach((function(t){t.checked&&(1===e.quType||3===e.quType?(a=t.id,n=t.abc):(s.push(t.id),o.push(t.abc))),t.isRight&&(1===e.quType||3===e.quType?i=t.abc:l.push(t.abc))})),r.multiValues[e.id]=s,r.radioValues[e.id]=a,r.radioRights[e.id]=i,r.multiRights[e.id]=l,r.myRadio[e.id]=n,r.myMulti[e.id]=o}))}));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchQuOfficePoints:function(e,t){var a=this;Object(l["b"])(e,t).then((function(e){a.$set(a.quOfficePoints,t,e.data)}))},saveToPdf:function(){m.downloadPDF(document.querySelector("#pdfDom"),this.paperData.userId_user_name+"_"+this.paperData.userId_real_name+"_"+this.paperData.departId_dept_name+"_"+this.paperData.userScore+"_"+this.paperId)}}},h=_,g=(a("832f"),a("2877")),v=Object(g["a"])(h,r,i,!1,null,"2ecb58b8",null);t["default"]=v.exports}}]);